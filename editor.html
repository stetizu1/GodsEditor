<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Editor</title>
    <link rel="stylesheet" href="css.css">
</head>
<body>
<input type="file" class="wide" id="load">
<div class="tools wide">
    <input type="checkbox" name="tool" id="blur" value="blur"><label for="blur" class="button"> Rozmazání obličeje </label>
    <button id="turnLeft" class="button">Otočit vlevo</button>
    <button id="turnRight" class="button">Otočit vpravo</button>
</div>
<div class="svgContainer">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg">
        <defs id="defs">
            <filter id="blurFilter" y="-5" height="40">
                <feGaussianBlur in="SourceGraphic" stdDeviation="3" y="-5"/>
            </filter>
        </defs>
    </svg>
</div>
<div class="canvasContainer">
<canvas id="0000full" class="full0"></canvas>
<canvas id="0000thumb" class="thumb"></canvas>
<canvas id="0000mediumL" class="medium landscape"></canvas>
<canvas id="0000mediumP" class="medium portrait"></canvas>

</div>
<button id="save" class="button wide">Uložit</button>
<a id="downloadFull" class="button wide">Stáhnout full</a>
<a id="downloadThumb" class="button wide">Stáhnout thumb</a>
<a id="downloadMediumL" class="button wide">Stáhnout medium landscape</a>
<a id="downloadMediumP" class="button wide">Stáhnout medium portrait</a>

<script src="js/settings/ImageLimits.js"></script>
<script src="js/settings/Messages.js"></script>

<script src="js/FileManager.js"></script>
<script src="js/SVGController.js"></script>
<script src="js/CanvasController.js"></script>
<script src="js/Rotator.js"></script>
<script src="js/BlurFace.js"></script>
<script>

var SVGInst = new SVGController('svg');
var canvases = [];

canvases[0] = new CanvasController('0000full', 'downloadFull', '0000.jpg', SVGInst, ImageLimits.MAX_WIDTH, ImageLimits.MAX_HEIGHT);
canvases[1] = new CanvasController('0000thumb', 'downloadThumb', '0000t.jpg',  SVGInst, ImageLimits.MAX_WIDTH, ImageLimits.THUMB_HEIGHT );
canvases[2] = new CanvasController('0000mediumL', 'downloadMediumL', '0000ml.jpg', SVGInst, ImageLimits.MEDIUM_WIDTH, ImageLimits.MAX_HEIGHT );
canvases[3] = new CanvasController('0000mediumP', 'downloadMediumP', '0000mp.jpg', SVGInst, ImageLimits.MAX_WIDTH, ImageLimits.MEDIUM_HEIGHT );

var fileManagement = new FileManager(SVGInst, canvases);
var rotator = new Rotator(SVGInst);
new BlurFace('blur', SVGInst);

fileManagement.selectFile('load');
fileManagement.saveImage('save');

rotator.setRotation("turnLeft", false);
rotator.setRotation("turnRight", true);


</script>
</body>
</html>